Okay, here is the complete, current MVP Development Plan for OmniPost.ai, reflecting all decisions made, including the use of v0.dev for a polished React frontend and the "Threads" platform.

---

## **OmniPost.ai: MVP Development Plan (v0.dev Frontend)**

**Goal:** Create a tool to transform long-form text into tailored social media posts for Twitter, LinkedIn, and **Threads** using n8n, OpenAI, and a polished frontend generated by **v0.dev** (React, Shadcn UI, Tailwind CSS).

**Prerequisite:** Local environment setup with n8n running. Basic understanding of React concepts (components, state, props) will be beneficial but can be learned.

---

### **Phase 1: OpenAI Configuration (Completed)**

*   ✅ **1.1 Obtain OpenAI API Key**
*   ✅ **1.2 Add OpenAI Credentials to n8n**

---

### **Phase 2: n8n Workflow Creation & Version Control (Logic Completed)**

*   ✅ **2.1 New Workflow**
*   ✅ **2.2 Webhook Trigger** (Named "IncomingContentWebhook")
*   ✅ **2.3 Prepare Input (Set Node)** (Named "Prepare Input")
*   ✅ **2.4 Test Webhook & "Prepare Input" Node**
*   ✅ **2.5 Twitter Post Branch (OpenAI & Format Set Node)** (Named "FormatTwitterSet")
*   ✅ **2.6 LinkedIn Post Branch (OpenAI & Format Set Node)** (Named "FormatLinkedInSet")
*   ✅ **2.7 Threads Post Branch (OpenAI & Format Set Node)** (Named "FormatThreadsSet", `threadsPost`)
*   ✅ **2.8 Merge Posts (Single Merge Node)** (Named "Merge Posts", Mode: `Combine`, Combine By: `Position`)
*   ✅ **2.9 Final Output Structure (Set Node)** (Named "FinalOutputSet", Mode: `JSON`, Editor: `{ "output": {{ $json }} }`)
*   [ ] **2.10 Activate Workflow:**
    *   Toggle "Active" switch (top right of workflow editor) to `On`.
    *   Copy the "Production Webhook URL" from your "IncomingContentWebhook" node (2.2).
*   [ ] **2.11 Save & Commit Workflow:**
    *   Download workflow into `omnipost-mvp/n8n-workflows/`.
    *   Git comit changes.

---

### **Phase 3: Frontend Development (Using v0.dev for a Polished React UI)**

*   [ ] **3.1 Setup v0.dev & Basic React Project (if needed):**
    *   Sign up/log in to v0.dev.
    *   Create a new simple React project locally using Vite: `npm create vite@latest omnipost-frontend -- --template react` (or your preferred project name). `cd omnipost-frontend`.
    *   This project will be where you integrate the v0.dev generated code.

*   [ ] **3.2 Design and Prompt for UI Generation with v0.dev:**
    *   **Define UI Requirements for React Components:**
        *   Main App Component (e.g., `OmniPostPage`).
        *   Input section: Large Shadcn `Textarea`, "Generate" Shadcn `Button`.
        *   Feedback: Areas for loading state (e.g., Shadcn `Loader2` icon for inline indication) and error messages (e.g., a styled div).
        *   Output section: Three distinct Shadcn `Card` components for Twitter, LinkedIn, and Threads. Each card should contain:
            *   Platform title/icon (consider using `lucide-react` icons if Shadcn components don't embed them directly via prompts).
            *   Area for generated text.
            *   "Copy Post" button (Shadcn `Button`, perhaps `variant="outline"` or `variant="ghost"`).
    *   **Craft Prompts for v0.dev:**
        *   *Example: "Create a React component for a webpage titled 'OmniPost.ai - AI Content Repurposer'. It should feature a large Shadcn Textarea for user input, and below it, a primary Shadcn Button with the text 'Generate Posts'. When this button is processing, it should show a Shadcn Loader2 icon spinning inside or next to the button text. Below the button, display three Shadcn Cards horizontally (wrap if screen is narrow). Each card needs a title (Twitter, LinkedIn, Threads - perhaps include a relevant lucide-react icon for each like 'TwitterIcon', 'LinkedinIcon'), a paragraph to display generated text, and an outline Shadcn Button 'Copy Text'. Use Tailwind CSS for styling. Ensure a clean, modern, and professional layout with good spacing and readability."*
        *   Iterate on prompts in v0.dev to refine the design.

*   [ ] **3.3 Generate, Copy, and Structure React Components:**
    *   Use v0.dev to generate the JSX code for your main page/component.
    *   Copy the generated JSX code into your React project (e.g., into `src/App.jsx` or a new component file like `src/components/OmniPostPage.jsx` and import it into `App.jsx`).
    *   Install Shadcn UI into your Vite project: `npx shadcn-ui@latest init`. Then add components: `npx shadcn-ui@latest add button textarea card loader-2`.
    *   Install Tailwind CSS in your Vite React project. Follow the official Tailwind CSS guide for Vite.
    *   If using `lucide-react` icons: `npm install lucide-react`.

*   [ ] **3.4 Implement React State and Logic:**
    *   **Define State Variables:** Inside your main React component, use `useState` hook for:
        *   `longFormContent` (string, for the textarea).
        *   `posts` (object, e.g., `{ twitter: '', linkedin: '', threads: '' }`).
        *   `isLoading` (boolean).
        *   `error` (string or null).
    *   **Event Handlers & Functions:**
        *   Create an `async function handleGeneratePosts()`:
            *   Set `setIsLoading(true)` and `setError(null)`.
            *   Read `longFormContent` from state.
            *   Define `N8N_WEBHOOK_URL` (initially can be a placeholder, will be updated in Phase 4).
            *   Perform `fetch` API call to `N8N_WEBHOOK_URL` with `longFormContent`.
            *   On success: Parse JSON, update `posts` state with `data.output.twitterPost`, `data.output.linkedinPost`, `data.output.threadsPost`.
            *   On failure: Set `error` state with an appropriate message.
            *   Finally: Set `setIsLoading(false)`.
        *   Create `handleCopy(textToCopy, platformName)` function:
            *   Uses `navigator.clipboard.writeText(textToCopy)`.
            *   Optional: Briefly update UI to indicate "Copied!" (e.g., change button text or show a temporary message).
    *   **Bind to JSX:**
        *   Shadcn `Textarea` value bound to `longFormContent` state, `onChange` updates `longFormContent`.
        *   Generate `Button` `onClick` calls `handleGeneratePosts()`. Disable button and show loader if `isLoading` is true.
        *   Conditionally render error message div based on `error` state.
        *   Display `posts.twitter`, `posts.linkedin`, `posts.threads` in their respective Shadcn `Card` components.
        *   Copy `Button` in each card `onClick` calls `handleCopy` with the relevant post text and platform name.

*   [ ] **3.5 Style with Tailwind CSS & Refine:**
    *   Leverage Tailwind CSS utility classes to refine spacing, typography, colors, and responsiveness.
    *   Ensure the UI is clean, modern, and aligns with the "polished" aesthetic.
    *   Test basic responsiveness (desktop, tablet, mobile widths).

*   [ ] **3.6 Test Frontend Interactivity Locally:**
    *   Run your React development server (e.g., `npm run dev` for Vite).
    *   Thoroughly test all UI interactions using mock data or by temporarily pointing to your n8n test webhook URL if it's already active for basic checks.

*   [ ] **3.7 Commit and Push Frontend Changes to GitHub:**
    *   Add all relevant files (e.g., `src/`, `public/`, `index.html`, `package.json`, `tailwind.config.js`, `postcss.config.js`, `vite.config.js`).
    *   `git add .`
    *   `git commit -m "Develop React frontend with v0.dev, Shadcn, Tailwind and integrate core logic"`
    *   `git push origin main`

---

### **Phase 4: MVP Testing (End-to-End)**

*   [ ] **4.1 Finalize Webhook URL in Frontend Code:**
    *   Complete step 2.10 (Activate n8n Workflow) and get the "Production Webhook URL".
    *   Update the `N8N_WEBHOOK_URL` constant in your React component with this production URL.
*   [ ] **4.2 Build and Deploy Frontend (Recommended for True E2E Test):**
    *   Create a production build of your React app: `npm run build`.
    *   Deploy the contents of the `dist` folder (for Vite) to a static hosting service (e.g., Vercel, Netlify, GitHub Pages). Vercel is particularly easy for Vite/React apps.
*   [ ] **4.3 Full System Test:**
    *   [ ] Ensure n8n Docker container is running and your OmniPost workflow is "Active" in the n8n UI.
    *   [ ] Access your deployed frontend application via its public URL.
    *   [ ] Input a piece of long-form text.
    *   [ ] Click the "Generate Social Media Posts" button.
    *   [ ] **Verify:**
        *   Loading indicator appears correctly.
        *   The n8n workflow executes successfully (can check n8n "Executions").
        *   Generated posts for Twitter, LinkedIn, and Threads are displayed in the UI.
        *   "Copy Post" buttons work for each platform.
        *   Error handling: Test scenarios like an empty input, n8n workflow being down (if possible to simulate), or invalid API responses to see if error messages are displayed.
        *   Overall usability and visual polish of the application.
        *   Responsiveness on different device sizes (use browser developer tools).

---
This comprehensive plan should now cover all aspects from backend completion to a polished, AI-assisted frontend and final testing. You're on a clear path to your MVP!